第七章 利用小海龟研究平面直角坐标系

---

### 回顾

上一章中利用`circle`命令绘制了圆形，同时学会了用随机数来改变一些距离的值，这些都是小海龟作图的基本步骤，同学们可以仔细阅读，关于上一章中留下的两道题目，有同学留言的已经将答案发至邮箱，限于篇幅，在这一章中不再多述，若还有需要了解的同学可以在本文下面的**留言区**进行留言。

### 关于直角坐标系

直角坐标系属于七年级下册第七章的内容，在这一章中同学们学习了利用平面直角坐标系将一个平面划分为四个象限，由于给定了坐标原点以及规定了横轴和纵轴的正方向，故在四个象限中的点所对应的坐标符号呈现出规律化的表示。

借由`turtle`的作图功能，我们可以很轻易在屏幕上绘制出平面直角坐标系，同时`turtle`提供了强大的对话框功能，这就实现了与用户的交互，于是我们就可以利用这个小海龟来实现一个在平面直角坐标系上打点的小程序，一则加深了对数学知识的学习，二则练习了`turtle`的编程能力。

### 绘制方法

要绘制平面直角坐标系，需要将坐标系的要素一一绘制，即横轴、纵轴以及原点，当然要在适当的位置对这些要素进行标注，为了绘制坐标轴的箭头，这里我们用一个新的函数`stamp`来实现，这个函数的功能是将当前的绘图箭头在所在的位置创建一个**印章**，由于我们绘图使用的是三角箭头，所以很容易在每条坐标轴的尾端添加一个箭头，具体代码如下：

```python
t.pu()
t.goto(-240,0)
t.pd()
t.goto(240,0)
t.stamp()
t.pu()
t.goto(0,-240)
t.lt(90)
t.pd()
t.goto(0,240)
t.stamp()
t.pu()
t.goto(0,0)
t.dot()
t.goto(5,-10)
t.write('o')
t.goto(240,20)
t.write('x')
t.goto(20,240)
t.write('y')
```

由于我们使用的还是第一章提到的小工具，所以在同一个界面上可以既看到命令，也可以看到图形的显示。当然在绘制完成后，可以利用小工具的导出功能将这些命令导出至一个`.psy`文件，该文件以`python`的方式进行编码。

### 绘制数轴上的刻度

单纯只有坐标轴而没有刻度显然是不行了，为了解决这个问题，这里利用了上一章中提到的循环功能，即相隔一定的朴素进行绘制短线并标明数字来设定刻度，具体代码如下：

```python
gap = 22
for i in range(1, 11):
    t.goto(gap*i, 0)
    t.pd()
    t.goto(gap*i, 10)
    t.pu()
    t.goto(gap*i, -20)
    t.write(i)

    t.goto(-1*gap*i, 0)
    t.pd()
    t.goto(-1*gap*i, 10)
    t.pu()
    t.goto(-1*gap*i-3, -20)
    t.write(-i)

    t.goto(0, gap*i)
    t.pd()
    t.goto(10, gap*i)
    t.pu()
    t.goto(-16, gap*i-4)
    t.write(i)

    t.goto(0, -1*gap*i)
    t.pd()
    t.goto(10, -1*gap*i)
    t.pu()
    t.goto(-16, -1*gap*i-6)
    t.write(-i)
```

从代码也可以看出，为了绘制横坐标和纵坐标，依据其值分成了四个部分，具体图如下所示：

### 描点

在坐标轴绘制结束后，可以利用`turtle`中的`textinput`函数接收用户的输入，该函数含两个参数，一个为标题(`title`)，一个为提示(`prompt`)，具体命令如下所示：

```python
s.colormode(255)
while True:
    zuobiao = s.textinput("提示", "请输入坐标，以','分开, 'quit'退出")
    if zuobiao.lower() == 'quit':
        break
    pos_x,pos_y = zuobiao.split(",")
    t.pu()
    t.goto(eval(pos_x)*gap, eval(pos_y)*gap)
    t.pencolor(randint(1,200),randint(1,200),randint(1,200))
    t.dot()
    t.write("("+zuobiao+")")
```

在这里，我们同样利用了上一章中讲到的`while`循环方式，即不断接收用户的输入，直到接收到`quit`命令，即退出循环，同时，程序对于每一个输入都会将其分解为对应的横纵坐标，然后根据直角坐标系的绘制比例计算出相应的坐标值，并将该值写于图上，具体动图如下：

